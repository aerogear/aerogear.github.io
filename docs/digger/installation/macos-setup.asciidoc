[[macos-setup]]
=== Setup macOS Servers (optional)

Set the required variables in the inventory file to make the installer provision a macOS server.

.Steps done by installer to provision a macOS server
. Install Homebrew
. Install RVM and Ruby
. Install NVM and Node
. Install Xcode
. Download Apple certificates
. Update Cocoapods
. Register macOS Server as a node in Jenkins

==== Required Ansible Variables for macOS server provisioning

|===
| Variable name | Description

| `xcode_install_user`
| Apple Developer Account username. If not set, Xcode installation will
be skipped.

| `xcode_install_password`
| Apple Developer Account password. If not set, Xcode installation will
be skipped.

| `credential_private_key_path`
| Path to the private key that Jenkins uses to SSH into the macOS node.
If not set, the Jenkins node configuration will be skipped.

| `credential_passphrase`
| Passphrase for the private key. If not set, the Jenkins node
configuration will be skipped.

| `credential_public_key_path`
| Path to the public key. The macOS node will add this to its
`authorized_keys` file. If not set, the Jenkins node configuration will
be skipped.
|===

==== Further macOS Configuration options
Further configuration of the macOS node is possible through optional
xref:macos-variables[macOS variables].