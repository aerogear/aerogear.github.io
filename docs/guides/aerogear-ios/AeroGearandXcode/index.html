<!doctype html>
<!-- TODO(agalante) **do we need the no-js and the lang**
<html class="no-js" lang="en"> -->
<html>
<head>
  <title>AeroGear - Getting Started with AeroGear and Xcode</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">

  <!-- Main styles-->
  <link href="/css/styles.css" rel="stylesheet" media="screen">

  <!-- Syntax highlighting -->
  <link href="/css/syntax.css" rel="stylesheet"> 

  <!-- Icons -->
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="/css/openshift-icons.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  
  <!-- Favicons -->
  <link rel="icon" href="/favicon.ico" type="image/x-icon">

  <script src="//code.jquery.com/jquery-1.9.1.min.js"></script>


  <!-- google analytics -->
  <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-28733717-2']);
      _gaq.push(['_setDomainName', 'aerogear.org']);
      _gaq.push(['_trackPageview']);

      (function () {
          var ga = document.createElement('script');
          ga.type = 'text/javascript';
          ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(ga, s);
      })();
  </script>
  

</head>

<body class="  ">    

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/index.html">AeroGear</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        

        <li class="">
          <a href="/">Home</a>
        </li>

        <li class="">
          <a href="/getting-started/overview/">Getting Started</a>
        </li>


        <li class="dropdown ">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Mobile Services<span class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
              <li><a href="/services/mobile-ci-cd/">Mobile CI/CD</a></li>
              <li><a href="/services/push/">Push Notifications</a></li>
              <li><a href="/services/metrics/">Metrics</a></li>
              <li><a href="/services/runtime-connector/">Runtime Connector</a></li>
              <li><a href="/services/identity-management/">Identity Management</a></li>
              <li><a href="/services/device-security/">Device Security</a></li>
            </ul>
        </li>

        <li class="dropdown ">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Mobile SDKs<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/sdks/android/">Android</a></li>
            <li><a href="/sdks/cordova/">Cordova</li>
            <li><a href="/sdks/ios/">iOS</a></li>
            <li><a href="/sdks/xamarin/">Xamarin</a></li>
          </ul>
        </li>

        <li class="hidden-sm ">
          <a href="https://docs.aerogear.org">Docs</a>
        </li>
   
        
        <li class="">
          <a href="/community">Community</a>
        </li>
        

        <li class="">
          <a href="/news">News</a>
        </li>
        
      </ul>

    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

<section class="main-banner">
  <div class="container">
 

  


  </div><!-- container -->
</section> <!-- main banner -->


 


<section class="guides">

  <div class="container">
    <ol class="breadcrumb" style="margin:0">
      <li><a href="/getstarted/guides/">AeroGearCore Guides</a></li>
  
      <li><a href="/getstarted/guides/">iOS 1.X</a></li>
      <li class="active">Getting Started with AeroGear and Xcode</li>
  
    </ol>
  </div><!-- container -->

  <div class="container">
    <div class="row">
      <div class="col-md-8 col-md-offset-2 post">
        <h1>Getting Started with AeroGear and Xcode</h1>      
        <div class="basic">
    <div class="sect1">
<h2 id="_getting_started_with_aerogear_and_xcode">Getting Started with AeroGear and Xcode</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guide will help you to setup your development environment for AeroGear, and then build a simple application to verify the installation. The guide assumes that you have XCode IDE installed in your machine. If not, you can download it from the Apple developer web site <a href="https://developer.apple.com/xcode">here</a>. Let&#8217;s get started.</p>
</div>
<div class="sect2">
<h3 id="_step_1_create_a_new_xcode_project">Step 1: Create a new Xcode Project</h3>
<div class="paragraph">
<p>Fire up Xcode and when presented with the welcome screen, choose <em>"Create a new Xcode Project"</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../img/ios_welcome_screen.png" alt="Welcome screen">
</div>
</div>
<div class="paragraph">
<p>On the next screen, choose <em>"Empty Application"</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../img/ios_new_project_wizard.png" alt="New Project">
</div>
</div>
<div class="paragraph">
<p>Enter <em>"AeroGearExample"</em> in the Product Name field and your initials as the Class Prefix. In this example I used <em>"AG"</em>. For the device family I used iPhone. Leave the default options checked.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../img/ios_project_standard_details_screen.png" alt="Details">
</div>
</div>
<div class="paragraph">
<p>Xcode creates our project and we are presented with the default project screen.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../img/ios_main_project_screen.png" alt="Main Project Screen">
</div>
</div>
<div class="paragraph">
<p>Now that our project is created, its time to install required dependencies.</p>
</div>
</div>
<div class="sect2">
<h3 id="_step_2_install_dependencies">Step 2: Install Dependencies</h3>
<div class="paragraph">
<p>Generally, there are two approaches to install dependencies.</p>
</div>
<div class="paragraph">
<p>The first approach (and the preferred one) is to use <a href="http://cocoapods.org">CocoaPods</a> dependency manager. If you haven&#8217;t used it so far in your iOS projects, please take the time to familiarize yourself. It will make your life much easier when dealing with dependencies (and upgrades!). Have a look at the <a href="http://cocoapods.org">web site</a> for installation details.</p>
</div>
<div class="paragraph">
<p>The second approach, is to manually add the dependencies to the project. Both approaches are discussed in this guide, so peak the approach you are most familiar with.</p>
</div>
<div class="sect3">
<h4 id="_approach_1_using_cocoapods">Approach 1: using CocoaPods</h4>
<div class="paragraph">
<p>In the "Podfile", add the following lines:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">xcodeproj 'AeroGearExample.xcodeproj'
platform :ios, '5.0'
pod 'Reachability',  '~&gt; 3.0.0'
pod 'AeroGear', '1.2.0'</code></pre>
</div>
</div>
<div class="paragraph">
<p>And then:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">pod install</code></pre>
</div>
</div>
<div class="paragraph">
<p>to install the dependencies.</p>
</div>
<div class="paragraph">
<p><em>NOTE:</em> Don&#8217;t forget to open the Xcode workspace file instead of the project file after this step.</p>
</div>
</div>
<div class="sect3">
<h4 id="_approach_2_using_manual_process">Approach 2: using manual Process</h4>
<div class="paragraph">
<p>We need to download both AFNetworking and the AeroGear libraries from their respective sources.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For AFNetworking <a href="https://github.com/AFNetworking/AFNetworking/zipball/master">click here</a></p>
</li>
<li>
<p>For AeroGear <a href="https://github.com/aerogear/aerogear-ios/zipball/master">click here</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Extract the zip archives and when finished, time to add them to our project.</p>
</div>
<div class="paragraph">
<p>First, we add AFNetworking. Click <em>"File&#8594;Add files to AeroGearExample"</em>. In the dialog sheet that pops up, navigate to where AFNetworking code was extracted and select the AFNetworking folder</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../img/ios_afnetworking_library.png" alt="AFNetworking">
</div>
</div>
<div class="paragraph">
<p>Make sure that <em>"Copy items into destination group&#8217;s folder"</em> and <em>"Create Groups for any added folders"</em> is checked.</p>
</div>
<div class="paragraph">
<p>Now time to add AeroGear library. Click again <em>"File&#8594;Add files to AeroGearExample"</em>. In the dialog sheet that pops up, navigate to where AeroGear code was extracted and select the <em>"AeroGear"</em> folder.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../img/ios_aerogear_library.png" alt="AeroGear">
</div>
</div>
<div class="paragraph">
<p>Again, make sure that <em>"Copy items into destination group&#8217;s folder"</em> and <em>"Create Groups for any added folders"</em> is checked.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_step_3_verify_installation">Step 3: Verify installation</h3>
<div class="paragraph">
<p>Now that our depenendecies are set up, it&#8217;s time to verify our installation. For this, we are going to build a simple application that will fetch the latest Tasks from the <a href="http://todo-aerogear.rhcloud.com">TODO application</a> deployed on <a href="https://openshift.redhat.com/app/">OpenShift</a>. The tasks will then be displayed on a standard UITableView component. Let&#8217;s start.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>1: Create your controller
Create a new objective-c file, choose the name AGViewController, make it extends UITableViewController.</p>
</li>
<li>
<p>2: Link view and controller
Click on the <em>"AGAppDelegate.h"</em> on the Project Navigator, add a property that link to AGViewController (don&#8217;t forget to import it).</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">#import &lt;UIKit/UIKit.h&gt;
#import "AGViewController.h"

@interface AGAppDelegate : UIResponder &lt;UIApplicationDelegate&gt;

@property (strong, nonatomic) UIWindow *window;
@property(strong, nonatomic) AGViewController *controller;

@end</code></pre>
</div>
</div>
<div class="paragraph">
<p>Click on the <em>"AGAppDelegate.m"</em>, add line [1] and [2] to initialize the controller.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    // Override point for customization after application launch.
    self.window.backgroundColor = [UIColor whiteColor];
    self.controller = [[AGViewController alloc] initWithStyle:UITableViewStylePlain]; // [1]
    self.window.rootViewController = self.controller;                                 // [2]
    [self.window makeKeyAndVisible];
    return YES;
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>3: Implement AeroGear login and retrieve tasks</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Now, click on the <em>"AGViewController.m"</em>. First of all, import the "AeroGear" library [1].</p>
</div>
<div class="paragraph">
<p>Modify AGViewController implementation to add instance variables for authentication module [2] and for the task [3] returned from the server.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">#import "AGViewController.h"
#import &lt;AeroGear/AeroGear.h&gt;                                           // [1]

@interface AGViewController ()
@end

@implementation AGViewController {
    NSArray *_tasks;                                                    // [3]
}

- (void)viewDidLoad {
    [super viewDidLoad];
    id&lt;AGAuthenticationModule&gt; authModule;
    // NSURL object:
    NSURL* projectsURL = [NSURL URLWithString:@"http://todo-aerogear.rhcloud.com/todo-server/"];

    AGAuthenticator* authenticator = [AGAuthenticator authenticator];
    authModule = [authenticator auth:^(id&lt;AGAuthConfig&gt; config) {       // [4]
        [config setName:@"myModule"];
        [config setBaseURL:projectsURL];
    }];

    id&lt;AGPipe&gt; tasksPipe;

    // create the 'todo' pipeline, which contains the 'projects' pipe:
    AGPipeline *todo = [AGPipeline pipelineWithBaseURL:projectsURL];    // [5]

    tasksPipe = [todo pipe:^(id&lt;AGPipeConfig&gt; config) {                 // [6]
        [config setName:@"tasks"];
        [config setAuthModule:authModule];
    }];

  NSDictionary *credentials = @{@"username": "john", @"password": @"123"};
    [authModule login:credentials success:^(id object) {                // [7]

        [tasksPipe read:^(id responseObject) {                          // [8]

            _tasks = responseObject;                                    // [9]

            [self.tableView reloadData];                                // [10]

        } failure:^(NSError *error) {
            NSLog(@"An error has occured during fetch! \n%@", error);
        }];

    } failure:^(NSError *error) {
       NSLog(@"An error has occured during login:%@", error);
   }];
}
// the rest of your file ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s explain in more details, what we&#8217;re doing here:</p>
</div>
<div class="paragraph">
<p>Central to AeroGear is the concept of <a href="/docs/specs/aerogear-ios/Classes/AGPipeline.html">Pipeline</a> and <a href="/docs/specs/aerogear-ios/Protocols/AGPipe.html">Pipe</a>. The former represents a collection of server connections and the latter the connection itself.</p>
</div>
<div class="paragraph">
<p>In [4] and [5] we initialize our Pipeline and Authenticator objects. Both act a factory in which the former creates Pipe objects connected to remote endpoints, while the latter give us access to different authentication modules provided by AeroGear (such as Rest, Basic and Digest).</p>
</div>
<div class="paragraph">
<p>In [6] we call the "add" method on our pipeline and use the given code block to set the name of the remote endpoint (in our case "tasks") on the given AGPipeConfig object. In the config, we also link the authenticate module we described earlier. This will give us a fresh authentificated Pipe object to work with. Note that, if not specified in the add method, the pipe will use REST as its communication type. (More types are planned for ther future, such as websockets).</p>
</div>
<div class="paragraph">
<p>In [7] we send the login message, within the success callback issue a "read" request [8] on the Pipe to fetch the tasks from the remote application, passing a success and failure block. If the fetch was successful, we assign the return result to our tasks object [9]. Finally, we ask the tableview to reload
itself to display the data [10].</p>
</div>
<div class="ulist">
<ul>
<li>
<p>4: RefreshView with data</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Time to fill the empty table data source methods that Xcode created automatically for us when we created the class, with code that renders the fetched data.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
    return [_tasks count];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
    static NSString *CellIdentifier = @"Cell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    if (cell == nil) {
        cell = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }

    NSUInteger row = [indexPath row];

    cell.textLabel.text = [[_tasks objectAtIndex:row] objectForKey:@"title"];

    return cell;
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>5: Run it!</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ok we are now ready to run the project. Select <em>"Product&#8594;Run"</em> and if all goes well you will be presented with the following screen.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../img/ios_emulator.png" alt="Emulator">
</div>
</div>
<div class="paragraph">
<p><strong>Success!</strong> Your first iOS application built with AeroGear!</p>
</div>
<div class="paragraph">
<p>You can download the source code of this project from <a href="https://github.com/corinnekrych/SampleAeroGear">github</a>. For a more complete example application that uses AeroGear to perform <a href="http://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD</a> operations on a remote endpoint, have a look at the TODO application available on <a href="https://github.com/aerogear/aerogear-todo-ios">github</a>.</p>
</div>
<div class="paragraph">
<p>You can also browse <a href="/docs/specs/aerogear-ios/">AeroGear iOS API reference</a> to familiarize yourself with the wealth of options.</p>
</div>
</div>
</div>
</div>
</div>

      </div><!-- col 9 -->
    </div><!-- row -->
  </div><!-- container -->


</section>





<footer>
  <div class="container">
    <div class="row">
      <div class="col-sm-3">
        <h5>Getting Started</h5>
        <ul class="list-unstyled">
          <li><a href="/getting-started/overview/">Overview</a></li>
          <li><a href="/getting-started/installation-and-configuration/">Installation &amp; Configuration</a></li>
          <li><a href="/getting-started/creating-mobile-apps/">Creating Mobile Apps</a></li>
          <li><a href="/getting-started/enabling-mobile-services/">Enabling Mobile Services</a></li>
        </ul>
      </div><!-- col -->

      <div class="col-sm-3">
        <h5>Mobile Services</h5>
        <ul class="list-unstyled">
         <li><a href="/services/mobile-ci-cd/">Mobile CI/CD</a></li>
         <li><a href="/services/push/">Push Notifications</a></li>
         <li><a href="/services/metrics/">Metrics</a></li>
         <li><a href="/services/runtime-connector/">Runtime Connector</a></li>
         <li><a href="/services/identity-management/">Identity Management</a></li>
         <li><a href="/services/device-security/">Device Security</a></li>
        </ul>
      </div><!-- col -->

      <div class="col-sm-3">
        <h5>Mobile SDKs</h5>
        <ul class="list-unstyled">
         <li><a href="/sdks/android/">Android</a></li>
         <li><a href="/sdks/cordova/">Cordova</li>
         <li><a href="/sdks/ios/">iOS</a></li>
         <li><a href="/sdks/xamarin/">Xamarin</a></li>
        </ul>
      </div><!-- col -->
      
      <div class="col-sm-3">
        <h5>COMMUNITY</h5>
        <ul class="list-unstyled">
          <li><a target="_blank" href="https://github.com/aerogear/">GitHub - Aerogear</a></li>
          <li><a target="_blank" href="https://github.com/aerogearcatalog/">GitHub - Aerogear Catalog</a></li>
          <li><a target="_blank" href="https://issues.jboss.org/browse/AEROGEAR">Jira Repo Issues</a></li>
          <li><a  href="/community/contribution-guide/">Contribution Guide</a></li>
          <li><a target="_blank" href="https://groups.google.com/forum/#!forum/aerogear">Google Group</a></li>
          <li><a href="irc://irc.freenode.net/aerogear">IRC</a></li>
        </ul>
      </div><!-- col -->

      <div class="col-sm-12 follow">
        <h5>FOLLOW US</h5>
        <ul class="list-inline">
          <li><a target="_blank" href="https://www.twitter.com/aerogears"><i class="fa fa-twitter-square"></i> Twitter</a></li>
          <li><a target="_blank" href="https://www.facebook.com/AeroGearProject"><i class="fa fa-facebook-square"></i> Facebook</a></li>
          <li><a target="_blank" href="https://plus.google.com/106588661437153585722/posts"><i class="fa fa-google-plus-square"></i> Google+</a></li>
          <li><a target="_blank" href="/feed.atom"><i class="fa fa-rss-square"></i> Feed</a></li>
        </ul>
        
        <p>AeroGear project is licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a></p>
      </div><!-- col -->
    
    </div><!-- row -->

  </div><!-- container -->

</footer><!-- footer -->

<section class="redhat">
  <div class="container">
    <p class="text-center">
      <a href="http://www.redhat.com/">
        <img src="/img/redhatlogo-wite.png" alt="redhatlogo-wite" width="130">
      </a>
    </p>       
  </div><!-- container -->
</section>


<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<!-- <script src="/bower_components/jquery/dist/jquery.min.js"></script> -->

<!-- Include all compiled plugins (below), or include individual files as needed  -->  
<script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

<!-- My script -->
<script src="/js/script.js"></script>

</body>
</html>