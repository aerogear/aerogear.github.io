<!doctype html>
<html>
<head>
  <title>AeroGear - AeroGear Pipes in Android</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">

  <!-- Main styles-->
  <link href="/css/styles.css" rel="stylesheet" media="screen">

  <!-- Syntax highlighting -->
  <link href="/css/syntax.css" rel="stylesheet"> 

  <!-- Icons -->
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="/css/openshift-icons.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  
  <!-- Favicons -->
  <link rel="icon" href="/favicon.ico" type="image/x-icon">

  <script src="//code.jquery.com/jquery-1.9.1.min.js"></script>


  <!-- google analytics -->
  <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-28733717-2']);
      _gaq.push(['_setDomainName', 'aerogear.org']);
      _gaq.push(['_trackPageview']);

      (function () {
          var ga = document.createElement('script');
          ga.type = 'text/javascript';
          ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(ga, s);
      })();
  </script>
  

</head>

<body>    

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/index.html">AeroGear</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        

        <li class="">
          <a href="/">Home</a>
        </li>

        <li class="">
          <a href="/getting-started/overview/">Getting Started</a>
        </li>


        <li class="dropdown ">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Mobile Services<span class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
              <li><a href="/services/mobile-ci-cd/">Mobile CI/CD</a></li>
              <li><a href="/services/push/">Push Notifications</a></li>
              <li><a href="/services/metrics/">Metrics</a></li>
              <li><a href="/services/runtime-connector/">Runtime Connector</a></li>
              <li><a href="/services/identity-management/">Identity Management</a></li>
              <li><a href="/services/device-security/">Device Security</a></li>
            </ul>
        </li>

        <li class="dropdown ">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Mobile SDKs<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/sdks/android/">Android</a></li>
            <li><a href="/sdks/cordova/">Cordova</li>
            <li><a href="/sdks/ios/">iOS</a></li>
            <li><a href="/sdks/xamarin/">Xamarin</a></li>
          </ul>
        </li>

        <li class="hidden-sm ">
          <a href="https://docs.aerogear.org">Docs</a>
        </li>
   
        
        <li class="">
          <a href="/community">Community</a>
        </li>
        

        <li class="">
          <a href="/news">News</a>
        </li>
        
      </ul>

    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

<section class="main-banner">
  <div class="container">
    
  <h2>Aerogear Guides <small>Tutorials to help get you off and running.</small></h2>

  </div><!-- container -->
</section> <!-- main banner -->


<section class="guides">
  
  <div class="container">
         <ol class="breadcrumb" style="margin:0">
      <li>
        
          <a href="/getstarted/guides/">Guides</a>
        
      </li>
      <li class="active">AeroGear Pipes in Android</li>
    </ol>
  </div><!-- container -->


  <div class="container">
    <div class="row">
      
      <div class="col-md-3 hidden-sm hidden-xs sidebar">
        <ul class="nav">
   <li class="toc_level-1 toc_section-1">
      <a href="#_how_to_use_it">
         <span class="toctext">How to use it</span>
      </a>
      <ul>
         <li class="toc_level-2 toc_section-2">
            <a href="#_http_verbs">
               <span class="toctext">HTTP verbs</span>
            </a>
         </li>
         <li class="toc_level-2 toc_section-3">
            <a href="#_creating_a_pipe">
               <span class="toctext">Creating a Pipe</span>
            </a>
         </li>
      </ul>
   </li>
   <li class="toc_level-1 toc_section-4">
      <a href="#_plugging_into_the_pipe_api">
         <span class="toctext">Plugging into the Pipe API</span>
      </a>
      <ul>
         <li class="toc_level-2 toc_section-5">
            <a href="#_pipehandler">
               <span class="toctext">PipeHandler</span>
            </a>
         </li>
         <li class="toc_level-2 toc_section-6">
            <a href="#_requestbuilder_responseparser">
               <span class="toctext">RequestBuilder, ResponseParser</span>
            </a>
         </li>
         <li class="toc_level-2 toc_section-7">
            <a href="#_gsonrequestbuilder_gsonresponseparser">
               <span class="toctext">GsonRequestBuilder, GsonResponseParser</span>
            </a>
         </li>
         <li class="toc_level-2 toc_section-8">
            <a href="#_nested_data_in_result">
               <span class="toctext">Nested Data in Result</span>
            </a>
         </li>
      </ul>
   </li>
   <li class="toc_level-1 toc_section-9">
      <a href="#_multipart_upload">
         <span class="toctext">Multipart Upload</span>
      </a>
   </li>
</ul>
      </div><!-- col -->
      
      <div class="col-md-9 post">
      
        <h1>AeroGear Pipes in Android</h1>
        <div class="paragraph">
<p>All methods on <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/Pipe.html"><strong>Pipe</strong></a> consume a <a href="/docs/specs/aerogear-android-pipe-core/org/jboss/aerogear/android/Callback.html"><strong>CallBack</strong></a>. If you are calling your <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/Pipe.html"><strong>Pipe</strong></a> from an Activity or Fragment it is highly encouraged to create a static class which extends <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/AbstractActivityCallback.html"><strong>AbstractActivityCallback</strong></a>, <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/AbstractFragmentCallback.html"><strong>AbstractFragmentCallback</strong></a>.</p>
</div>
<div class="paragraph">
<p>AeroGear uses a <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/Pipe.html"><strong>Pipe</strong></a> metaphor for connecting to a remote web service.</p>
</div>
<div class="sect1">
<h2 id="_how_to_use_it">How to use it</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_http_verbs">HTTP verbs</h3>
<div class="paragraph">
<p>Let&#8217;s say you have a simple webservice at <em><a href="http://www.server.com/developer" class="bare">http://www.server.com/developer</a></em>. This service has the following API:</p>
</div>
<table class="tableblock frame-topbot grid-all" style="width: 40%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">http verb</th>
<th class="tableblock halign-left valign-top">endpoint</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/developer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">POST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/developer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/developer/$id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DELETE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/developer/$id</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>and the JSON retrieved via get http verb</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">[
    {
        "id": "1",
        "photoURL": "http://www.gravatar.com/avatar/a796aaf10cd10acde35c4004d935ff0c.jpg?s=300",
        "twitter": "passos",
        "name": "Daniel Passos",
        "created": "1979-11-09"
    },
    {
        "id": "2",
        "photoURL": "http://www.gravatar.com/avatar/c9f69f10d588aa96f31181e758db4d24.jpg?s=300",
        "twitter": "summerspittman",
        "name": "Summers Pittman",
        "created": "1979-11-09"
    }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>to marshals for this class</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public class Developer {

    @RecordId
    private Long id;
    private String name;
    private String twitter;
    private String photoURL;

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_creating_a_pipe">Creating a Pipe</h3>
<div class="paragraph">
<p><a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/PipeManager.html"><strong>PipeManager</strong></a> class is used to instantiate and manage a <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/Pipe.html"><strong>Pipe</strong></a> object. You don&#8217;t have to keep a reference to the result. <code>Pipeline.get(String, Activity)</code> will return a instance of <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/LoaderPipe.html"><strong>LoaderPipe</strong></a> which is really a wrapper around the original <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/Pipe.html"><strong>Pipe</strong></a> object. There are also <code>Pipeline.get</code> methods for <em>Fragments</em> classes</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">PipeManager.config("developers", RestfulPipeConfiguration.class)
           .withUrl(new URL("http://www.server.com/developer"))
           .forClass(Developer.class);

Pipe&lt;Developer&gt; pipe = PipeManager.getPipe("developers");</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is an example of using the <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/Pipe.html"><strong>Pipe</strong></a> API to retrieve the JSON payload shown earlier. Note that the library will automatically marshall the payload to your model, leaving you only with task to display the results in the UI. Further and equally important, it will respect the Activity (or Fragment) lifecycle, a common source of problem bugging Android developers as we will discuss next</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">pipe.read(new AbstractCallback&lt;List&lt;Developer&gt;&gt;() {
    @Override
    public void onSuccess(List&lt;Developer&gt; devs) {
        // Here you have a list of Developers made easy
    }

    @Override
    public void onFailure(Exception e) {
        // Oops! Something is wrong. Probably your internet is down :P
    }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>You need to be aware of the <a href="http://developer.android.com/training/basics/activity-lifecycle/index.html"><strong>Android Activity lifecycle</strong></a>. If the Application goes into the background (ex. the user gets a phone call), then any results which come in may be lost or cause an Exception if they interact with the UI of the suspended Activity. If there is a configuration change (ex. the phone was rotated) then the Activity is destroyed and a new one is created.  If you used an anonymous inner class for your <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/Callback.html"><strong>CallBack</strong></a> instance then you will lose your results when the operation completes (because anonymous inner classes have an implicit reference to the outer class).</p>
</div>
<div class="paragraph">
<p>However, AeroGear also has support for <a href="http://developer.android.com/training/basics/activity-lifecycle/index.html"><strong>Android&#8217;s Loader API</strong></a>. Loader&#8217;s were introduced by Android in version 3.0, and their lifecycle is managed by Android. When an Activity is paused and resumed, any activity the Loader was working on is returned. If the Activity is destroyed because of a configuration change then the Loader will provide its results to the new Activity instance without having to make second call to a remote server.</p>
</div>
<div class="paragraph">
<p>The pipe instance will be respectful of the Android lifecycle and calls to its methods will be handled by and behave like Loaders.  For instance, if the device is rotated the result of the read will be returned from a local cache instead of being fetched from the web again.  If you want to force a read, just call <code>pipe.reset()</code> before your read.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">PipeManager.config("developers", RestfulPipeConfiguration.class)
           .withUrl(new URL("http://www.server.com/developer"))
           .forClass(Developer.class);

LoaderPipe&lt;Developer&gt; pipe = PipeManager.get("developers", activityInstance);
pipe.reset();
pipe.read(new ReadDevelopersActivityCallback());

public static class ReadDevelopersActivityCallback
        extends AbstractActivityCallback&lt;List&lt;Developer&gt;&gt; {
    @Override
    public void onSuccess(List&lt;Developer&gt; devs) {
        // Here you have a list of Developers made easy
    }

    @Override
    public void onFailure(Exception e) {
        // Oops! Something is wrong. Probably your internet is down :P
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_plugging_into_the_pipe_api">Plugging into the Pipe API</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_pipehandler">PipeHandler</h3>
<div class="paragraph">
<p>AeroGear on Android uses a class called <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/Pipe.html"><strong>Pipe</strong></a> to retrieve data from a <em>source asynchronously</em>. A <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/Pipe.html"><strong>Pipe</strong></a> has the methods <code>read</code>, <code>readWithFilter</code>, <code>remove</code>, and <code>save</code>. A <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/Pipe.html"><strong>Pipe</strong></a> implementation is responsible for managing <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/PipeHandler.html"><strong>PipeHandler</strong></a> instances, processing their results and returning the results to the user via callbacks provided by the <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/Pipe.html"><strong>Pipe</strong></a> CRUD methods. AG Android has two <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/Pipe.html"><strong>Pipe</strong></a> implementations: <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/impl/pipeline/RestAdapter.html"><strong>RestAdapter</strong></a> and <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/impl/pipeline/LoaderAdapter.html"><strong>LoaderAdapter</strong></a>.</p>
</div>
<div class="paragraph">
<p><a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/PipeHandler.html"><strong>PipeHandler</strong></a> instances are responsible for connecting to a remote source, sending a request, fetching the response, and returning a deserialized instance of that result to the <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/Pipe.html"><strong>Pipe</strong></a> which requested it. <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/PipeHandler.html"><strong>PipeHandler</strong></a> do not need to worry about threading, this is the responsibility of the <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/Pipe.html"><strong>Pipe</strong></a>.</p>
</div>
<div class="paragraph">
<p>So why separate <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/Pipe.html"><strong>Pipe</strong></a> and <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/PipeHandler.html"><strong>PipeHandler</strong></a>? The logic of threading is troublesome and often leads to bugs. The patterns and trade offs are usually specific to Android and not your application. Since AeroGear provides this logic along with methods for selecting the most appropriate mechanisms for handling threads, there is no reason to burden a developer with it. The methods for connecting to remote services are much more specific to the use case (IE the app). If our default implementations do not fit your needs, it is much simpler to implement a <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/PipeHandler.html"><strong>PipeHandler</strong></a> and allow a <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/Pipe.html"><strong>Pipe</strong></a> to manage the threading for you.</p>
</div>
<div class="paragraph">
<p>For many of the cases, writing an adapter to a remote source which AG can not support is as simple as implementing a <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/PipeHandler.html"><strong>PipeHandler</strong></a> and passing it to a <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/Pipe.html"><strong>Pipe</strong></a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">config.pipeHandler(new MyPipeHandle())</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_requestbuilder_responseparser">RequestBuilder, ResponseParser</h3>
<div class="paragraph">
<p><a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/Pipe.html"><strong>Pipe</strong></a> uses <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/PipeHandler.html"><strong>PipeHandler</strong></a> to interact with services. The default <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/PipeHandler.html"><strong>PipeHandler</strong></a> is <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/impl/pipeline/RestRunner.html"><strong>RestRunner</strong></a>, the <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/impl/pipeline/RestRunner.html"><strong>RestRunner</strong></a> delegates requests for <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/impl/pipeline/GsonRequestBuilder.html"><strong>GsonRequestBuilder</strong></a> and response parse to <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/impl/pipeline/GsonResponseParser.html"><strong>GsonResponseParser</strong></a></p>
</div>
</div>
<div class="sect2">
<h3 id="_gsonrequestbuilder_gsonresponseparser">GsonRequestBuilder, GsonResponseParser</h3>
<div class="paragraph">
<p>Behind the scenes, <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/impl/pipeline/GsonRequestBuilder.html"><strong>GsonRequestBuilder</strong></a> and <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/impl/pipeline/GsonResponseParser.html"><strong>GsonResponseParser</strong></a> uses Google&#8217;s GSON for JSON object serialization and deserialization. Both have a construction to consume a <em>GSON</em> instance. This <em>GSON</em> will be used to marshall and unmarshall objects. If you have nested, typed collections, etc. You can configure a GSON which supports your data model and pass it to the <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/impl/pipeline/GsonRequestBuilder.html"><strong>GsonRequestBuilder</strong></a> and <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/impl/pipeline/GsonResponseParser.html"><strong>GsonResponseParser</strong></a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">Gson gson = new GsonBuilder().setDateFormat("yyyy-MM-dd").create();

PipeManager.config("developers", RestfulPipeConfiguration.class)
           .withUrl(new URL("http://www.server.com/developer"))
           .requestBuilder(new GsonRequestBuilder())
           .responseParser(new GsonResponseParser(gson))
           .forClass(Developer.class);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_nested_data_in_result">Nested Data in Result</h3>
<div class="paragraph">
<p>Sometimes you will have a simple result format, but your data will be surrounded by metadata. Take this JSON snippet for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "data": {
        "after": "t3_17i1lt",
        "before": null,
        "children": [
                {"data":"data1"},
                {"data":"data2"},
                {"data":"data3"},
                {"data":"data4"}
        ]
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example you are interested in the data object&#8217;s "children" collection. Instead of writing code using GSON to fetch it, you can instead configure a <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/impl/pipeline/GsonResponseParser.html"><strong>GsonResponseParser</strong></a> and <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/MarshallingConfig.html"><strong>MarshallingConfig</strong></a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">MarshallingConfig marshallingConfig = new MarshallingConfig();
marshallingConfig.setDataRoot("data.children")

ResponseParser responseParser = new GsonResponseParser();
responseParser.setMarshallingConfig(marshallingConfig);

PipeManager.config("developers", RestfulPipeConfiguration.class)
           .withUrl(new URL("http://www.server.com/developer"))
           .responseParser(responseParser)
           .forClass(Developer.class);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_multipart_upload">Multipart Upload</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The multipart upload is a good example to use <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/RequestBuilder.html"><strong>RequestBuilder</strong></a> and <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/ResponseParser.html"><strong>ResponseParser</strong></a>. In the most of the cases you need to send a file to server and receive a JSON with response. In this case you don&#8217;t need to create a new Handler, just set a new <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/RequestBuilder.html"><strong>RequestBuilder</strong></a> in <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/impl/pipeline/PipeConfig.html"><strong>PipeConfig</strong></a> for <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/impl/pipeline/RestRunner.html"><strong>RestRunner</strong></a></p>
</div>
<div class="paragraph">
<p>We already have a <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/RequestBuilder.html"><strong>RequestBuilder</strong></a> for multipart upload the <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/impl/pipeline/MultipartRequestBuilder.html"><strong>MultipartRequestBuilder</strong></a></p>
</div>
<div class="paragraph">
<p><strong>Model</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public class Developer {

    @RecordId
    private Long id;
    private String name;
    private File photo;

}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>How to use MultipartRequestBuilder</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">PipeManager.config("developers", RestfulPipeConfiguration.class)
           .withUrl(new URL("http://www.server.com/developer"))
           .requestBuilder(new MultipartRequestBuilder())
           .forClass(Developer.class);

PipeManager.get("developers", activity)
           .save(developerInstance, callbackInstance);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Take a look at the complete example in our <a href="https://github.com/aerogear/aerogear-android-cookbook">cookbook app</a></p>
</div>
<div class="paragraph">
<p><em>Feel free to create new <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/PipeHandler.html"><strong>PipeHandlers</strong></a>, <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/RequestBuilder.html"><strong>RequestBuilder</strong></a> and <a href="/docs/specs/aerogear-android-pipe/org/jboss/aerogear/android/pipeline/ResponseParser.html"><strong>ResponseParser</strong></a> and send them to the project ;)</em></p>
</div>
</div>
</div>
      
      </div><!-- col 8 -->
    </div><!-- row -->
  </div><!-- container -->
</section>



<footer>
  <div class="container">
    <div class="row">
      <div class="col-sm-3">
        <h5>Getting Started</h5>
        <ul class="list-unstyled">
          <li><a href="/getting-started/overview/">Overview</a></li>
          <li><a href="/getting-started/installation-and-configuration/">Installation &amp; Configuration</a></li>
          <li><a href="/getting-started/creating-mobile-apps/">Creating Mobile Apps</a></li>
          <li><a href="/getting-started/enabling-mobile-services/">Enabling Mobile Services</a></li>
        </ul>
      </div><!-- col -->

      <div class="col-sm-3">
        <h5>Mobile Services</h5>
        <ul class="list-unstyled">
         <li><a href="/services/mobile-ci-cd/">Mobile CI/CD</a></li>
         <li><a href="/services/push/">Push Notifications</a></li>
         <li><a href="/services/metrics/">Metrics</a></li>
         <li><a href="/services/runtime-connector/">Runtime Connector</a></li>
         <li><a href="/services/identity-management/">Identity Management</a></li>
         <li><a href="/services/device-security/">Device Security</a></li>
        </ul>
      </div><!-- col -->

      <div class="col-sm-3">
        <h5>Mobile SDKs</h5>
        <ul class="list-unstyled">
         <li><a href="/sdks/android/">Android</a></li>
         <li><a href="/sdks/cordova/">Cordova</li>
         <li><a href="/sdks/ios/">iOS</a></li>
         <li><a href="/sdks/xamarin/">Xamarin</a></li>
        </ul>
      </div><!-- col -->
      
      <div class="col-sm-3">
        <h5>COMMUNITY</h5>
        <ul class="list-unstyled">
          <li><a target="_blank" href="https://github.com/aerogear/">GitHub - Aerogear</a></li>
          <li><a target="_blank" href="https://github.com/aerogearcatalog/">GitHub - Aerogear Catalog</a></li>
          <li><a target="_blank" href="https://issues.jboss.org/browse/AEROGEAR">Jira Repo Issues</a></li>
          <li><a  href="/community/contribution-guide/">Contribution Guide</a></li>
          <li><a target="_blank" href="https://groups.google.com/forum/#!forum/aerogear">Google Group</a></li>
          <li><a href="irc://irc.freenode.net/aerogear">IRC</a></li>
        </ul>
      </div><!-- col -->

      <div class="col-sm-12 follow">
        <h5>FOLLOW US</h5>
        <ul class="list-inline">
          <li><a target="_blank" href="https://www.twitter.com/aerogears"><i class="fa fa-twitter-square"></i> Twitter</a></li>
          <li><a target="_blank" href="https://www.facebook.com/AeroGearProject"><i class="fa fa-facebook-square"></i> Facebook</a></li>
          <li><a target="_blank" href="https://plus.google.com/106588661437153585722/posts"><i class="fa fa-google-plus-square"></i> Google+</a></li>
          <li><a target="_blank" href="/feed.atom"><i class="fa fa-rss-square"></i> Feed</a></li>
        </ul>
        
        <p>AeroGear project is licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a></p>
      </div><!-- col -->
    
    </div><!-- row -->

  </div><!-- container -->

</footer><!-- footer -->

<section class="redhat">
  <div class="container">
    <p class="text-center">
      <a href="http://www.redhat.com/">
        <img src="/img/redhatlogo-wite.png" alt="redhatlogo-wite" width="130">
      </a>
    </p>       
  </div><!-- container -->
</section>


<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<!-- <script src="/bower_components/jquery/dist/jquery.min.js"></script> -->

<!-- Include all compiled plugins (below), or include individual files as needed  -->  
<script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

<!-- My script -->
<script src="/js/script.js"></script>

</body>
</html>