<!doctype html>
<html>
<head>
  <title>AeroGear - AeroGear Client Paging Usage</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">

  <!-- Main styles-->
  <link href="/css/styles.css" rel="stylesheet" media="screen">

  <!-- Syntax highlighting -->
  <link href="/css/syntax.css" rel="stylesheet"> 

  <!-- Icons -->
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="/css/openshift-icons.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  
  <!-- Favicons -->
  <link rel="icon" href="/favicon.ico" type="image/x-icon">

  <script src="//code.jquery.com/jquery-1.9.1.min.js"></script>


  <!-- google analytics -->
  <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-28733717-2']);
      _gaq.push(['_setDomainName', 'aerogear.org']);
      _gaq.push(['_trackPageview']);

      (function () {
          var ga = document.createElement('script');
          ga.type = 'text/javascript';
          ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(ga, s);
      })();
  </script>
  

</head>

<body>    

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/index.html">AeroGear</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        

        <li class="">
          <a href="/">Home</a>
        </li>

        <li class="">
          <a href="/getting-started/overview/">Getting Started</a>
        </li>


        <li class="dropdown ">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Mobile Services<span class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
              <li><a href="/services/mobile-ci-cd/">Mobile CI/CD</a></li>
              <li><a href="/services/push/">Push Notifications</a></li>
              <li><a href="/services/metrics/">Metrics</a></li>
              <li><a href="/services/runtime-connector/">Runtime Connector</a></li>
              <li><a href="/services/identity-management/">Identity Management</a></li>
              <li><a href="/services/device-security/">Device Security</a></li>
            </ul>
        </li>

        <li class="dropdown ">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Mobile SDKs<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/sdks/android/">Android</a></li>
            <li><a href="/sdks/cordova/">Cordova</li>
            <li><a href="/sdks/ios/">iOS</a></li>
            <li><a href="/sdks/xamarin/">Xamarin</a></li>
          </ul>
        </li>

        <li class="hidden-sm active">
          <a href="https://docs.aerogear.org">Docs</a>
        </li>
   
        
        <li class="">
          <a href="/community">Community</a>
        </li>
        

        <li class="">
          <a href="/news">News</a>
        </li>
        
      </ul>

    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

<section class="main-banner">
  <div class="container">
    
  <h2>Documentation <small>Aerogear API documentation &amp; specifications.</small></h2>

  </div><!-- container -->
</section> <!-- main banner -->


<section class="docs">
  
  <div class="container">
         <ol class="breadcrumb" style="margin:0">
      <li>
        
          <a href="/docs/specs/">Docs</a>
        
      </li>
      <li class="active">AeroGear Client Paging Usage</li>
    </ol>
  </div><!-- container -->


  <div class="container">
    <div class="row">
      
      <div class="col-md-3 hidden-sm hidden-xs sidebar">
        <ul class="nav">
   <li class="toc_level-1 toc_section-1">
      <a href="#enable-paging">
         <span class="toctext">Enable Paging</span>
      </a>
      <ul>
         <li class="toc_level-2 toc_section-2">
            <a href="#android">
               <span class="toctext">Android</span>
            </a>
         </li>
         <li class="toc_level-2 toc_section-3">
            <a href="#ios">
               <span class="toctext">iOS</span>
            </a>
         </li>
         <li class="toc_level-2 toc_section-4">
            <a href="#js">
               <span class="toctext">JS</span>
            </a>
         </li>
      </ul>
   </li>
   <li class="toc_level-1 toc_section-5">
      <a href="#read-next-page">
         <span class="toctext">Read Next Page</span>
      </a>
      <ul>
         <li class="toc_level-2 toc_section-6">
            <a href="#android-1">
               <span class="toctext">Android</span>
            </a>
         </li>
         <li class="toc_level-2 toc_section-7">
            <a href="#ios-1">
               <span class="toctext">iOS</span>
            </a>
         </li>
         <li class="toc_level-2 toc_section-8">
            <a href="#js-1">
               <span class="toctext">JS</span>
            </a>
         </li>
      </ul>
   </li>
   <li class="toc_level-1 toc_section-9">
      <a href="#read-previous-page">
         <span class="toctext">Read Previous Page</span>
      </a>
      <ul>
         <li class="toc_level-2 toc_section-10">
            <a href="#android-2">
               <span class="toctext">Android</span>
            </a>
         </li>
         <li class="toc_level-2 toc_section-11">
            <a href="#ios-2">
               <span class="toctext">iOS</span>
            </a>
         </li>
         <li class="toc_level-2 toc_section-12">
            <a href="#js-2">
               <span class="toctext">JS</span>
            </a>
         </li>
      </ul>
   </li>
   <li class="toc_level-1 toc_section-13">
      <a href="#change-offset-and-limit">
         <span class="toctext">Change Offset and Limit</span>
      </a>
      <ul>
         <li class="toc_level-2 toc_section-14">
            <a href="#android-3">
               <span class="toctext">Android</span>
            </a>
         </li>
         <li class="toc_level-2 toc_section-15">
            <a href="#ios-3">
               <span class="toctext">iOS</span>
            </a>
         </li>
         <li class="toc_level-2 toc_section-16">
            <a href="#js-3">
               <span class="toctext">JS</span>
            </a>
         </li>
      </ul>
   </li>
   <li class="toc_level-1 toc_section-17">
      <a href="#jumping-to-a-specific-page">
         <span class="toctext">Jumping to a specific page</span>
      </a>
      <ul>
         <li class="toc_level-2 toc_section-18">
            <a href="#android-4">
               <span class="toctext">Android</span>
            </a>
         </li>
         <li class="toc_level-2 toc_section-19">
            <a href="#ios-4">
               <span class="toctext">iOS</span>
            </a>
         </li>
         <li class="toc_level-2 toc_section-20">
            <a href="#js-4">
               <span class="toctext">JS</span>
            </a>
         </li>
      </ul>
   </li>
   <li class="toc_level-1 toc_section-21">
      <a href="#return-all-records-no-longer-paged">
         <span class="toctext">Return All Records (No longer paged)</span>
      </a>
      <ul>
         <li class="toc_level-2 toc_section-22">
            <a href="#android-5">
               <span class="toctext">Android</span>
            </a>
         </li>
         <li class="toc_level-2 toc_section-23">
            <a href="#ios-5">
               <span class="toctext">iOS</span>
            </a>
         </li>
         <li class="toc_level-2 toc_section-24">
            <a href="#js-5">
               <span class="toctext">JS</span>
            </a>
         </li>
      </ul>
   </li>
</ul>
      </div><!-- col -->
      
      <div class="col-md-9 post">
      
        <h1>AeroGear Client Paging Usage</h1>
        <p>Below is a comparison of the method usage proposed by each lib for handling paged resources.</p>

<h2 id="enable-paging">Enable Paging</h2>

<p><em>General Use Case</em> : The client configures paging settings.</p>

<h3 id="android">Android</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ReadFilter filter = new ReadFilter();
filter.setLimit(7);

cars.readWithFilter(filter, new Callback&lt;Car&gt;() {
  @Override
  void onSuccess(List&lt;Car&gt; data) {
    firstPage = data;
  }

  @Override
  void onError(Exception ex) {
    //handle error
  }
});
</code></pre></div></div>

<h3 id="ios">iOS</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NSURL* baseURL = [NSURL URLWithString:@"https://controller-aerogear.rhcloud.com/aerogear-controller-demo"];
AGPipeline* agPipeline = [AGPipeline pipelineWithBaseURL:baseURL];

// create the Pipe and set paging configuration
id&lt;AGPipe&gt; cars = [agPipeline pipe:^(id&lt;AGPipeConfig&gt; config) {
  [config setName:@"cars-custom"];
  [config setNextIdentifier:@"AG-Links-Next"];
  [config setPreviousIdentifier:@"AG-Links-Previous"];
  [config setMetadataLocation:@"header"];
}];

__block NSMutableArray *pagedResultSet;

// fetch the first page
[cars readWithParams:@{@"color" : @"black", @"offset" : @"0", @"limit" : @1} success:^(id responseObject) {
  pagedResultSet = responseObject;

  // do something

} failure:^(NSError *error) {
  //handle error
}];
</code></pre></div></div>

<h3 id="js">JS</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var cars = AeroGear.Pipeline({
  name: "cars",
  settings: {
    pageConfig: {
      metadataLocation: "header",
      previousIdentifier: "AG-Links-Previous",
      nextIdentifier: "AG-Links-Next"
    }
  }
}).pipes.cars;

// Fetch first page of 10 cars
cars.read({
  offsetValue: 0,
  limitValue: 10,
  success: function( pagedResults ) {
    // do something
  },
  error: function() {
    // handle it
  }
});
</code></pre></div></div>

<h2 id="read-next-page">Read Next Page</h2>

<p><em>General Use Case</em> : The client request the next page of a Pipe response.</p>

<p><em>Failure Use Case</em> : The current page is the last page.</p>

<p><em>Retrieving the first page</em> : offset must be 0.</p>

<h3 id="android-1">Android</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ReadFilter filter = new ReadFilter();
filter.setLimit(7);

cars.readWithFilter(filter, new Callback&lt;Car&gt;() {
  @Override
  void onSuccess(List&lt;Car&gt; data) {
    firstPage = data;
  }

  @Override
  void onError(Exception ex) {
    //handle error
  }
});


firstPage.next(new CallBack&lt;Car&gt;() {
  @Override
  void onSuccess(List&lt;Car&gt; secondPagedList) {
    //Do somethign with second Paged list
  }

  @Override
  void onError(Exception ex) {
    //handle error
  }
});
</code></pre></div></div>

<h3 id="ios-1">iOS</h3>
<p><em>General Use Case</em> : The client requests the next page of a Pipe response.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// move to the next page
[pagedResultSet next:^(id responseObject) {
  // do something

} failure:^(NSError *error) {
  //handle error
}];
</code></pre></div></div>

<p><em>Failure Use Case</em> : The current page is the last page.</p>

<p>Moving to the next page from last is left on the specific server implementation, the library will not treat it differently. Some servers can throw an error (like Twitter or AGController does) by respondng with an http error response, or simply return an empty list.</p>

<p><em>Retrieving the first page</em> : offset must be 0.</p>

<p>To specify new offset, simply redefine query params and start over.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[cars readWithParams:@{@"color" : @"black", @"offset" : @"0", @"limit" : @10} success:^(id responseObject) {
  pagedResultSet = responseObject;

  //do something

} failure:^(NSError *error) {
  //handle error
}];
</code></pre></div></div>

<h3 id="js-1">JS</h3>

<p><em>General Use Case</em> : The client requests the next page of a Pipe response.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pagedResults.next({
  success: function( morePagedResults ) {
    // do something
  },
  error: function() {
    // handle it
  }
});
</code></pre></div></div>

<p><em>Failure Use Case</em> : The current page is the last page.</p>

<p>Moving to the next page from last is left on the specific server implementation, the library will not treat it differently. Some servers can throw an error (like Twitter or AGController does) by respondng with an http error response, or simply return an empty list.</p>

<p><em>Retrieving the first page</em> : offset must be 0.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Fetch first page of 10 cars
cars.read({
  offsetValue: 0,
  limitValue: 10,
  success: function( pagedResults ) {
    // do something
  },
  error: function() {
    // handle it
  }
});
</code></pre></div></div>

<h2 id="read-previous-page">Read Previous Page</h2>

<p><em>General Use Case</em> : The client request the previous page of a Pipe response.</p>

<p><em>Failure Use Case</em> : The current page is the first page.</p>

<h3 id="android-2">Android</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ReadFilter filter = new ReadFilter();
filter.setLimit(5);
filter.setOffset(1);
cars.readWithFilter(filter, new Callback&lt;Car&gt;() {
  @Override
  void onSuccess(List&lt;Car&gt; data) {
    secondPage = data;
  }

  @Override
  void onError(Exception ex) {
    //handle error
  }
});

secondPage.prev(new CallBack&lt;Car&gt;() {
  @Override
  void onSuccess(List&lt;Car&gt; firstPagedList) {
    //Do somethign with second Paged list
  }

  @Override
  void onError(Exception ex) {
    //handle error
  }
});
</code></pre></div></div>

<h3 id="ios-2">iOS</h3>

<p><em>General Use Case</em> : The client request the previous page of a Pipe response.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[pagedResultSet previous:^(id responseObject) {
  // do something

} failure:^(NSError *error) {
  //handle error
}];
</code></pre></div></div>

<p><em>Failure Use Case</em> : The current page is the first page.</p>

<p>Similar to next case, the behaviour is left to the specific server implementation.</p>

<h3 id="js-2">JS</h3>

<p><em>General Use Case</em> : The client request the previous page of a Pipe response.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pagedResults.previous({
  success: function( morePagedResults ) {
    // do something
  },
  error: function() {
    // handle it
  }
});
</code></pre></div></div>

<p><em>Failure Use Case</em> : The current page is the first page.</p>

<p>Similar to next case, the behaviour is left to the specific server implementation.</p>

<h2 id="change-offset-and-limit">Change Offset and Limit</h2>

<p><em>General Use Case</em> : The client changes the paging configuration mid-flight.</p>

<h3 id="android-3">Android</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ReadFilter filter = new ReadFilter();
filter.setLimit(5);
filter.setOffset(1);

cars.readWithFilter(filter, new Callback&lt;Car&gt;() {
  @Override
  void onSuccess(List&lt;Car&gt; data) {
    //do something
  }

  @Override
  void onError(Exception ex) {
    //handle error
  }
});


filter = new ReadFilter();
filter.setLimit(50);
filter.setOffset(0);

cars.readWithFilter(filter, new Callback&lt;Car&gt;() {
  @Override
  void onSuccess(List&lt;Car&gt; data) {
    //do something
  }

  @Override
  void onError(Exception ex) {
    //handle error
  }
});
</code></pre></div></div>

<h3 id="ios-3">iOS</h3>

<p>Simply redefine query params and start over.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[cars readWithParams:@{@"color" : @"black", @"offset" : @"6", @"limit" : @10} success:^(id responseObject) {
  pagedResultSet = responseObject;

  //do something

} failure:^(NSError *error) {
  //handle error
}];
</code></pre></div></div>

<h3 id="js-3">JS</h3>

<p><em>General Use Case</em> : The client changes the paging configuration mid-flight.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cars.read({
  offsetValue: 3,
  limitValue: 5,
  success: function( data ) {
    // do something
  },
  error: function() {
    // handle it
  }
});
</code></pre></div></div>

<h2 id="jumping-to-a-specific-page">Jumping to a specific page</h2>

<p><em>General Use Case</em> : The client request a specific page.</p>

<p><em>Failure Use Case</em> : The requested page does not exist.</p>

<h3 id="android-4">Android</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ReadFilter filter = new ReadFilter();
filter.setLimit(5);
filter.setOffset(2);

cars.readWithFilter(filter, new Callback&lt;Car&gt;() {
  @Override
  void onSuccess(List&lt;Car&gt; data) {
    //handling page 2
  }

  @Override
  void onError(Exception ex) {
    //handle error
  }
});
</code></pre></div></div>

<h3 id="ios-4">iOS</h3>

<p>Simply redefine query params and start over.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[cars readWithParams:@{@"color" : @"black", @"offset" : @"10", @"limit" : @5} success:^(id responseObject) {
  pagedResultSet = responseObject;

  // do something with the response...

} failure:^(NSError *error) {
    //handle error
}];
</code></pre></div></div>

<h3 id="js-4">JS</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cars.read({
  offsetValue: 1,
  limitValue: 2,
  success: function( data ) {
    // handle page 2
  },
  error: function() {
    // handle page not existing
  }
});
</code></pre></div></div>

<h2 id="return-all-records-no-longer-paged">Return All Records (No longer paged)</h2>

<h3 id="android-5">Android</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cars.read(new Callback&lt;Car&gt;() {
  @Override
  void onSuccess(List&lt;Car&gt; allRecords) {
   //do something
  }

  @Override
  void onError(Exception ex) {
    //handle error
  }
});
</code></pre></div></div>

<h3 id="ios-5">iOS</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[pipe read:^(id responseObject) {
  // do something with the response...
} failure:^(NSError *error) {...}];
</code></pre></div></div>

<h3 id="js-5">JS</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Get all records for a single read but continue paging afterward
cars.read({
  paging: false,
  success: function( data ) {
    // do something
  },
  error: function() {
    // handle it
  }
});
</code></pre></div></div>


      
      </div><!-- col 8 -->
    </div><!-- row -->
  </div><!-- container -->
</section>



<footer>
  <div class="container">
    <div class="row">
      <div class="col-sm-3">
        <h5>Getting Started</h5>
        <ul class="list-unstyled">
          <li><a href="/getting-started/overview/">Overview</a></li>
          <li><a href="/getting-started/installation-and-configuration/">Installation &amp; Configuration</a></li>
          <li><a href="/getting-started/creating-mobile-apps/">Creating Mobile Apps</a></li>
          <li><a href="/getting-started/enabling-mobile-services/">Enabling Mobile Services</a></li>
        </ul>
      </div><!-- col -->

      <div class="col-sm-3">
        <h5>Mobile Services</h5>
        <ul class="list-unstyled">
         <li><a href="/services/mobile-ci-cd/">Mobile CI/CD</a></li>
         <li><a href="/services/push/">Push Notifications</a></li>
         <li><a href="/services/metrics/">Metrics</a></li>
         <li><a href="/services/runtime-connector/">Runtime Connector</a></li>
         <li><a href="/services/identity-management/">Identity Management</a></li>
         <li><a href="/services/device-security/">Device Security</a></li>
        </ul>
      </div><!-- col -->

      <div class="col-sm-3">
        <h5>Mobile SDKs</h5>
        <ul class="list-unstyled">
         <li><a href="/sdks/android/">Android</a></li>
         <li><a href="/sdks/cordova/">Cordova</li>
         <li><a href="/sdks/ios/">iOS</a></li>
         <li><a href="/sdks/xamarin/">Xamarin</a></li>
        </ul>
      </div><!-- col -->
      
      <div class="col-sm-3">
        <h5>COMMUNITY</h5>
        <ul class="list-unstyled">
          <li><a target="_blank" href="https://github.com/aerogear/">GitHub - Aerogear</a></li>
          <li><a target="_blank" href="https://github.com/aerogearcatalog/">GitHub - Aerogear Catalog</a></li>
          <li><a target="_blank" href="https://issues.jboss.org/browse/AEROGEAR">Jira Repo Issues</a></li>
          <li><a  href="/community/contribution-guide/">Contribution Guide</a></li>
          <li><a target="_blank" href="https://groups.google.com/forum/#!forum/aerogear">Google Group</a></li>
          <li><a href="irc://irc.freenode.net/aerogear">IRC</a></li>
        </ul>
      </div><!-- col -->

      <div class="col-sm-12 follow">
        <h5>FOLLOW US</h5>
        <ul class="list-inline">
          <li><a target="_blank" href="https://www.twitter.com/aerogears"><i class="fa fa-twitter-square"></i> Twitter</a></li>
          <li><a target="_blank" href="https://www.facebook.com/AeroGearProject"><i class="fa fa-facebook-square"></i> Facebook</a></li>
          <li><a target="_blank" href="https://plus.google.com/106588661437153585722/posts"><i class="fa fa-google-plus-square"></i> Google+</a></li>
          <li><a target="_blank" href="/feed.atom"><i class="fa fa-rss-square"></i> Feed</a></li>
        </ul>
        
        <p>AeroGear project is licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a></p>
      </div><!-- col -->
    
    </div><!-- row -->

  </div><!-- container -->

</footer><!-- footer -->

<section class="redhat">
  <div class="container">
    <p class="text-center">
      <a href="http://www.redhat.com/">
        <img src="/img/redhatlogo-wite.png" alt="redhatlogo-wite" width="130">
      </a>
    </p>       
  </div><!-- container -->
</section>


<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<!-- <script src="/bower_components/jquery/dist/jquery.min.js"></script> -->

<!-- Include all compiled plugins (below), or include individual files as needed  -->  
<script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

<!-- My script -->
<script src="/js/script.js"></script>

</body>
</html>