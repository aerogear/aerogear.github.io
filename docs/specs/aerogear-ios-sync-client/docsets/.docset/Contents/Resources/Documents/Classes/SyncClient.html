<!DOCTYPE html>
<html lang="en">
  <head>
    <title>SyncClient Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script type="text/javascript">
    window.jazzy = {'docset': false}
    if (typeof window.dash != 'undefined') {
      document.documentElement.className += ' dash'
      window.jazzy.docset = true
    }
    if (navigator.userAgent.match(/xcode/i)) {
      document.documentElement.className += ' xcode'
      window.jazzy.docset = true
    }
    </script>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
  </head>
  <body id="reference" class="Swift">
    <a name="//apple_ref/swift/Class/SyncClient" class="dashAnchor"></a>
    <a title="SyncClient Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p class="header-text"><a href="../index.html"> Docs</a> (88% documented)</p>
        <p id="header-links"><a href=""><img id="header-icon" src="../img/gh.png" height="16px" width="16px" />View on GitHub</a></p>
      </div>
    </header>
    <section id="valence">
      <div class="content-wrapper">
        <p id="hierarchial_navigation">
        <a href="../index.html" id="design_resources_link"> Reference</a>
        <img id="carat" src="../img/carat.png" height="10px" width="6px" />
        SyncClient Class Reference
        </p>
      </div>
    </section>
    <div class="content-wrapper">
      <nav class="book-parts">
        <ul class="nav-parts">
          <li class="part-name tasks">
          <a href="../Classes.html">Classes</a>
            <ul class="nav-chapters">
              <li class="nav-chapter">
                <a href="../Classes/SyncClient.html">SyncClient</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <div class="pixel-line"></div>
      <div class="rubber-band-gap"></div>
      <article class="chapter">
      <a name="/"></a>
        <h1 class="chapter-name">SyncClient</h1>
        <section>
          <section class="section">
            <p class="para">A Differential Synchronization client that uses the WebSocket as the transport protocol. SyncClient implement WebSocketDelegate protocol; it provides all delegate method implementations. <br/><br/> The ClientSynchronizer generic type is the type that this implementation can handle. it could be either JsonPatchSynchronizer or diffMatchPatchSynchronizer. The DataStore generic type is the type that this implementation can handle. For now, we have InMemoryDataStore only. The ClientSynchronizer and DataStore should have compatible document type.</p>
          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <div class="task-name-container">
                
                <a name="/Unnamed"></a>
                
              </div>
              <ul class="task-group-list">
                <li class="item symbol">
                  <div class="task-group-term">
                    <code>
                    <a name="/s:vC18AeroGearSyncClient10SyncClient2wsERR">
                    <a name="//apple_ref/swift/Property/ws" class="dashAnchor"></a>
                    <a class="x-instance-method Swift" href="#/s:vC18AeroGearSyncClient10SyncClient2wsERR">ws</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointy-thing-container"></div>
                    <section class="section instance-method">
                      <div class="pointy-thing"></div>
                      <div class="abstract">
                        <p class="para">Websocket object initialized as part of default SyncClient initialization.</p>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
            
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="k">var</span> <span class="nv">ws</span><span class="p">:</span> <span class="kt">WebSocket</span><span class="o">!</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item symbol">
                  <div class="task-group-term">
                    <code>
                    <a name="/s:vC18AeroGearSyncClient10SyncClient9documentsERR">
                    <a name="//apple_ref/swift/Property/documents" class="dashAnchor"></a>
                    <a class="x-instance-method Swift" href="#/s:vC18AeroGearSyncClient10SyncClient9documentsERR">documents</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointy-thing-container"></div>
                    <section class="section instance-method">
                      <div class="pointy-thing"></div>
                      <div class="abstract">
                        <p class="para">Document we want to perform data sync upon.</p>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
            
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="k">var</span> <span class="nv">documents</span> <span class="o">=</span> <span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">ClientDocument</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;&gt;</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item symbol">
                  <div class="task-group-term">
                    <code>
                    <a name="/s:vC18AeroGearSyncClient10SyncClient10syncEngineERR">
                    <a name="//apple_ref/swift/Property/syncEngine" class="dashAnchor"></a>
                    <a class="x-instance-method Swift" href="#/s:vC18AeroGearSyncClient10SyncClient10syncEngineERR">syncEngine</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointy-thing-container"></div>
                    <section class="section instance-method">
                      <div class="pointy-thing"></div>
                      <div class="abstract">
                        <p class="para">SyncEngine determines the type of Synchronizer and Document the sync relates to.</p>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
            
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="k">let</span> <span class="nv">syncEngine</span><span class="p">:</span> <span class="kt">ClientSyncEngine</span><span class="o">&lt;</span><span class="kt">CS</span><span class="p">,</span> <span class="kt">D</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item symbol">
                  <div class="task-group-term">
                    <code>
                    <a name="/s:FC18AeroGearSyncClient10SyncClientcERR">
                    <a name="//apple_ref/swift/Method/init(url:syncEngine:)" class="dashAnchor"></a>
                    <a class="x-instance-method Swift" href="#/s:FC18AeroGearSyncClient10SyncClientcERR">init(url:syncEngine:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointy-thing-container"></div>
                    <section class="section instance-method">
                      <div class="pointy-thing"></div>
                      <div class="abstract">
                        <p class="para">Initializes a SyncClient.</p>
                        <a href="../Classes/SyncClient/init(url:syncEngine:).html" class="see-more">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
            
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="n">convenience</span> <span class="nf">init</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">syncEngine</span><span class="p">:</span> <span class="kt">ClientSyncEngine</span><span class="o">&lt;</span><span class="kt">CS</span><span class="p">,</span> <span class="kt">D</span><span class="o">&gt;</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div class="parameters">
                        <h4>Parameters</h4>
                        <table class="graybox" border="0" cellspacing="0" cellpadding="5">
                          <tbody>
                            <tr>
                              <td scope="row">
                                <code>
                                <em class="term">url</em>
                                </code>
                              </td>
                              <td>
                                <div class="definition">
                                  <p class="para">the URL of the sync server.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td scope="row">
                                <code>
                                <em class="term">syncEngine</em>
                                </code>
                              </td>
                              <td>
                                <div class="definition">
                                  <p class="para">the ClientSyncEngine to be used by this SyncClient.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td scope="row">
                                <code>
                                <em class="term">contentSerializer</em>
                                </code>
                              </td>
                              <td>
                                <div class="definition">
                                  <p class="para">a concrete ContentSerializer that allows for control of serializing the document content.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item symbol">
                  <div class="task-group-term">
                    <code>
                    <a name="/s:FC18AeroGearSyncClient10SyncClient7connectU___FDGS0_Q_Q0__FT_DGS0_Q_Q0__">
                    <a name="//apple_ref/swift/Method/connect()" class="dashAnchor"></a>
                    <a class="x-instance-method Swift" href="#/s:FC18AeroGearSyncClient10SyncClient7connectU___FDGS0_Q_Q0__FT_DGS0_Q_Q0__">connect()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointy-thing-container"></div>
                    <section class="section instance-method">
                      <div class="pointy-thing"></div>
                      <div class="abstract">
                        <p class="para">Connects this SyncClient to the SyncServer. The call is delegated to WebSocket&rsquo;s connect.</p>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
            
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">connect</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                      <div class="result-description">
                        <h4>Return Value</h4>
                        <p class="para">self to support method chaining.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item symbol">
                  <div class="task-group-term">
                    <code>
                    <a name="/s:FC18AeroGearSyncClient10SyncClient11addDocumentERR">
                    <a name="//apple_ref/swift/Method/addDocument(_:callback:)" class="dashAnchor"></a>
                    <a class="x-instance-method Swift" href="#/s:FC18AeroGearSyncClient10SyncClient11addDocumentERR">addDocument(_:callback:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointy-thing-container"></div>
                    <section class="section instance-method">
                      <div class="pointy-thing"></div>
                      <div class="abstract">
                        <p class="para">Adds a document to this SyncClient.</p>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
            
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">addDocument</span><span class="p">(</span><span class="nv">doc</span><span class="p">:</span> <span class="kt">ClientDocument</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">(</span><span class="kt">ClientDocument</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">())</span></code></pre>

                        </div>
                      </div>
                      <div class="parameters">
                        <h4>Parameters</h4>
                        <table class="graybox" border="0" cellspacing="0" cellpadding="5">
                          <tbody>
                            <tr>
                              <td scope="row">
                                <code>
                                <em class="term">doc</em>
                                </code>
                              </td>
                              <td>
                                <div class="definition">
                                  <p class="para">the ClientDocument to add to this SyncClient.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td scope="row">
                                <code>
                                <em class="term">callback</em>
                                </code>
                              </td>
                              <td>
                                <div class="definition">
                                  <p class="para">the callback that will be invoked with updates from the server.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item symbol">
                  <div class="task-group-term">
                    <code>
                    <a name="/s:FC18AeroGearSyncClient10SyncClient11diffAndSendERR">
                    <a name="//apple_ref/swift/Method/diffAndSend(_:)" class="dashAnchor"></a>
                    <a class="x-instance-method Swift" href="#/s:FC18AeroGearSyncClient10SyncClient11diffAndSendERR">diffAndSend(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointy-thing-container"></div>
                    <section class="section instance-method">
                      <div class="pointy-thing"></div>
                      <div class="abstract">
                        <p class="para">Computes a diff of the passed in document with the version in this SyncClient and sends the resulting PatchMessage to the server.</p>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
            
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">diffAndSend</span><span class="p">(</span><span class="nv">doc</span><span class="p">:</span> <span class="kt">ClientDocument</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                      <div class="parameters">
                        <h4>Parameters</h4>
                        <table class="graybox" border="0" cellspacing="0" cellpadding="5">
                          <tbody>
                            <tr>
                              <td scope="row">
                                <code>
                                <em class="term">doc</em>
                                </code>
                              </td>
                              <td>
                                <div class="definition">
                                  <p class="para">the ClientDocument with updates to be diffed.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="result-description">
                        <h4>Return Value</h4>
                        <p class="para">self to support method chaining.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item symbol">
                  <div class="task-group-term">
                    <code>
                    <a name="/s:FC18AeroGearSyncClient10SyncClient10disconnectU___FGS0_Q_Q0__FT_T_">
                    <a name="//apple_ref/swift/Method/disconnect()" class="dashAnchor"></a>
                    <a class="x-instance-method Swift" href="#/s:FC18AeroGearSyncClient10SyncClient10disconnectU___FGS0_Q_Q0__FT_T_">disconnect()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointy-thing-container"></div>
                    <section class="section instance-method">
                      <div class="pointy-thing"></div>
                      <div class="abstract">
                        <p class="para">Disconnects this SyncClient from the server.</p>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
            
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">disconnect</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item symbol">
                  <div class="task-group-term">
                    <code>
                    <a name="/s:FC18AeroGearSyncClient10SyncClient26websocketDidReceiveMessageU___FGS0_Q_Q0__FSST_">
                    <a name="//apple_ref/swift/Method/websocketDidReceiveMessage(_:)" class="dashAnchor"></a>
                    <a class="x-instance-method Swift" href="#/s:FC18AeroGearSyncClient10SyncClient26websocketDidReceiveMessageU___FGS0_Q_Q0__FSST_">websocketDidReceiveMessage(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointy-thing-container"></div>
                    <section class="section instance-method">
                      <div class="pointy-thing"></div>
                      <div class="abstract">
                        <p class="para">Delegated method from WebSocketDelegate which happens when a message is received.</p>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
            
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">websocketDidReceiveMessage</span><span class="p">(</span><span class="nv">text</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div class="parameters">
                        <h4>Parameters</h4>
                        <table class="graybox" border="0" cellspacing="0" cellpadding="5">
                          <tbody>
                            <tr>
                              <td scope="row">
                                <code>
                                <em class="term">text</em>
                                </code>
                              </td>
                              <td>
                                <div class="definition">
                                  <p class="para">string representation of the message received.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item symbol">
                  <div class="task-group-term">
                    <code>
                    <a name="/s:FC18AeroGearSyncClient10SyncClient19websocketDidConnectU___FGS0_Q_Q0__FT_T_">
                    <a name="//apple_ref/swift/Method/websocketDidConnect()" class="dashAnchor"></a>
                    <a class="x-instance-method Swift" href="#/s:FC18AeroGearSyncClient10SyncClient19websocketDidConnectU___FGS0_Q_Q0__FT_T_">websocketDidConnect()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointy-thing-container"></div>
                    <section class="section instance-method">
                      <div class="pointy-thing"></div>
                      <div class="abstract">
                        <p class="para">Delegated method from WebSocketDelegate which happens when the connect was successful.</p>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
            
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">websocketDidConnect</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item symbol">
                  <div class="task-group-term">
                    <code>
                    <a name="/s:FC18AeroGearSyncClient10SyncClient22websocketDidDisconnectU___FGS0_Q_Q0__FGSqCSo7NSError_T_">
                    <a name="//apple_ref/swift/Method/websocketDidDisconnect(_:)" class="dashAnchor"></a>
                    <a class="x-instance-method Swift" href="#/s:FC18AeroGearSyncClient10SyncClient22websocketDidDisconnectU___FGS0_Q_Q0__FGSqCSo7NSError_T_">websocketDidDisconnect(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointy-thing-container"></div>
                    <section class="section instance-method">
                      <div class="pointy-thing"></div>
                      <div class="abstract">
                        <p class="para">Delegated method from WebSocketDelegate which happens when a disconnect occurs.</p>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
            
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">websocketDidDisconnect</span><span class="p">(</span><span class="nv">error</span><span class="p">:</span> <span class="kt">NSError</span><span class="p">?)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item symbol">
                  <div class="task-group-term">
                    <code>
                    <a name="/s:FC18AeroGearSyncClient10SyncClient22websocketDidWriteErrorU___FGS0_Q_Q0__FGSqCSo7NSError_T_">
                    <a name="//apple_ref/swift/Method/websocketDidWriteError(_:)" class="dashAnchor"></a>
                    <a class="x-instance-method Swift" href="#/s:FC18AeroGearSyncClient10SyncClient22websocketDidWriteErrorU___FGS0_Q_Q0__FGSqCSo7NSError_T_">websocketDidWriteError(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointy-thing-container"></div>
                    <section class="section instance-method">
                      <div class="pointy-thing"></div>
                      <div class="abstract">
                        <p class="para">Delegated method from WebSocketDelegate which happens when an error occurs.</p>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
            
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">websocketDidWriteError</span><span class="p">(</span><span class="nv">error</span><span class="p">:</span> <span class="kt">NSError</span><span class="p">?)</span></code></pre>

                        </div>
                      </div>
                      <div class="parameters">
                        <h4>Parameters</h4>
                        <table class="graybox" border="0" cellspacing="0" cellpadding="5">
                          <tbody>
                            <tr>
                              <td scope="row">
                                <code>
                                <em class="term">error</em>
                                </code>
                              </td>
                              <td>
                                <div class="definition">
                                  <p class="para">contains the details of the error.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item symbol">
                  <div class="task-group-term">
                    <code>
                    <a name="/s:FC18AeroGearSyncClient10SyncClient23websocketDidReceiveDataU___FGS0_Q_Q0__FCSo6NSDataT_">
                    <a name="//apple_ref/swift/Method/websocketDidReceiveData(_:)" class="dashAnchor"></a>
                    <a class="x-instance-method Swift" href="#/s:FC18AeroGearSyncClient10SyncClient23websocketDidReceiveDataU___FGS0_Q_Q0__FCSo6NSDataT_">websocketDidReceiveData(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointy-thing-container"></div>
                    <section class="section instance-method">
                      <div class="pointy-thing"></div>
                      <div class="abstract">
                        <p class="para">Delegated method from WebSocketDelegate which happens when a data are received.</p>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
            
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">websocketDidReceiveData</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="kt">NSData</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div class="parameters">
                        <h4>Parameters</h4>
                        <table class="graybox" border="0" cellspacing="0" cellpadding="5">
                          <tbody>
                            <tr>
                              <td scope="row">
                                <code>
                                <em class="term">data</em>
                                </code>
                              </td>
                              <td>
                                <div class="definition">
                                  <p class="para">binary representation of the data received.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p class="copyright">&copy; 2015 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2015-03-10)</p>
          <p class="copyright">Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.1.2</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
